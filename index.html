<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>SAL DEL SERI | Pedido</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{font-family:Arial;background:#f5f5f5;padding:20px}
.contenedor{max-width:900px;margin:auto;background:#fff;padding:25px;border-radius:8px}
.logo{text-align:center}
.logo img{max-width:220px}
.campo{margin-top:10px;display:flex;flex-direction:column}
input{padding:10px;border:1px solid #ccc;border-radius:5px}
button{margin-top:20px;background:#25D366;color:#fff;border:none;padding:12px;font-size:16px;border-radius:5px;cursor:pointer}
.resumen{margin-top:15px;background:#eee;padding:10px;border-radius:5px}
</style>
</head>

<body>

<div class="contenedor">
<div class="logo"><img src="yiyi.png"></div>

<div class="campo"><input id="negocio" placeholder="Negocio"></div>
<div class="campo"><input id="responsable" placeholder="Responsable"></div>
<div class="campo"><input id="telefono" placeholder="TelÃ©fono"></div>
<div class="campo"><input id="direccion" placeholder="DirecciÃ³n"></div>
<div class="campo">
<input id="sacos" type="number" min="1" placeholder="Sacos">
</div>

<div class="resumen" id="resumen">Total: $0 MXN</div>

<button id="btnEnviar">Enviar por WhatsApp</button>
</div>

<!-- âœ… TODO EN UN SOLO MÃ“DULO -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDMBBaEgAk1EuRj7QSMqVsxnlC7aUvMz5w",
  authDomain: "sal-del-seri.firebaseapp.com",
  projectId: "sal-del-seri",
  storageBucket: "sal-del-seri.firebasestorage.app",
  messagingSenderId: "465867166498",
  appId: "1:465867166498:web:683a92396f3e369df4cb7b"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const PRECIO = 135;
const NUMEROS = ["5216621498544","5216622721644"];

const sacosInput = document.getElementById("sacos");
const resumen = document.getElementById("resumen");
const boton = document.getElementById("btnEnviar");

sacosInput.addEventListener("input",()=>{
  const s = Number(sacosInput.value);
  resumen.innerText = `Total: $${s>0?s*PRECIO:0} MXN`;
});

boton.addEventListener("click", async ()=>{
  const negocio = negocio.value.trim();
  const responsable = responsable.value.trim();
  const telefono = telefono.value.trim();
  const direccion = direccion.value.trim();
  const sacos = Number(sacosInput.value);

  if(!negocio||!responsable||!telefono||!direccion||!sacos){
    alert("Completa todo");
    return;
  }

  const total = sacos*PRECIO;
  const fecha = new Date().toLocaleString("es-MX");

  // ðŸ”¥ FIRESTORE
  await addDoc(collection(db,"pedidos"),{
    negocio,responsable,telefono,direccion,
    sacos,total,fecha,estado:"pendiente"
  });

  // ðŸ“² WHATSAPP
  const msg = `SAL DEL SERI
${fecha}
${negocio}
${responsable}
${telefono}
${direccion}
Sacos: ${sacos}
Total: $${total}`;

  NUMEROS.forEach(n=>{
    window.open(`https://wa.me/${n}?text=${encodeURIComponent(msg)}`,"_blank");
  });
});
</script>

</body>
</html>







